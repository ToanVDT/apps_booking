<form [formGroup]="userForm" class="w-full">
    <div class="form-container flex flex-col items-center w-full">
      <div class="mb-4 text-xl font-semibold">Thêm tài khoản</div>
      <mat-form-field appearance="outline">
        <mat-label>Tên chủ nhà xe</mat-label>
        <input matInput placeholder="Tên chủ nhà xe" formControlName="fullName" />
        <mat-error *ngIf="userForm.get('fullName')?.hasError('required')">
          Tên chủ nhà xe không được để trống
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput placeholder="email" formControlName="email" />
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
            Email không được để trống
        </mat-error>
        <mat-error *ngIf="duplicateEmail">
          Email đã tồn tại
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Tên đăng nhập</mat-label>
        <input matInput placeholder="Tên đăng nhập" formControlName="username"/>
        <mat-error *ngIf="userForm.get('username')?.hasError('required')">
            Tên đăng nhập không được để trống
        </mat-error>
        <mat-error *ngIf="duplicateUserName">
          Tên đăng nhập đã tồn tại
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-icon class="text-[#9B9B9B] mr-1" matPrefix>password</mat-icon>
        <input matInput type="password" placeholder="Nhập mật khẩu" [type]="hidePassword ? 'password' : 'text'" formControlName="password">
        <span class="password-toggle" (click)="togglePassword()">
            <mat-icon class="password-icon">{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
        </span>
        <mat-error  *ngIf="userForm.get('password')?.hasError('required')">
          Mật khẩu không được để trống
        </mat-error>
    </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>CCCD</mat-label>
        <input matInput placeholder="CCCD" formControlName="identityCode"/>
        <mat-error *ngIf="userForm.get('identityCode')?.hasError('required')">
            CCCD không được để trống
        </mat-error>
        <mat-error *ngIf="userForm.get('identityCode')?.hasError('pattern')">
          CCCD không hợp lệ
      </mat-error>
        <mat-error *ngIf="userForm.get('identityCode')?.hasError('minLength')">
          CCCD không hợp lệ 
      </mat-error>
        <mat-error *ngIf="userForm.get('identityCode')?.hasError('maxLength')">
          CCCD không hợp lệ
      </mat-error>
      <mat-error *ngIf="duplicateIdentityCode">
        CCCD đã tồn tại
      </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Số điện thoại chủ xe</mat-label>
        <input matInput placeholder="Số điện thoại" formControlName="phone"/>
        <mat-error *ngIf="userForm.get('phone')?.hasError('required')">
            Số điện thoại không được để trống
        </mat-error>
        <mat-error *ngIf="duplicatePhone">
          SĐT đã tồn tại
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Địa chỉ</mat-label>
        <input matInput placeholder="Địa chỉ" formControlName="address" />
        <mat-error *ngIf="userForm.get('address')?.hasError('required')">
            Địa chỉ không được để trống
        </mat-error>
      </mat-form-field>
  
    </div>
    <div style="display: flex; justify-content: flex-end;">
      <button mat-button mat-raised-button [mat-dialog-close]="true" style="margin-right: 20px;"class=" bg-red-800 text-cyan-50"> Hủy</button>
      <button mat-raised-button (click)="onSubmit()" 
      [disabled]="userForm.invalid"
      [mat-dialog-close]="true" class="bg-green-600 text-cyan-50">
        Lưu
      </button>
    </div>
  </form>
